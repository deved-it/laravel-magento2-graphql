(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{378:function(e,t,n){"use strict";n.r(t);var r=n(45),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"using-the-client-in-your-project"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-the-client-in-your-project"}},[e._v("#")]),e._v(" Using the client in your project")]),e._v(" "),n("p",[e._v("You can use the client in the controller or wherever you prefer using dependency injection")]),e._v(" "),n("h2",{attrs:{id:"quickstart"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#quickstart"}},[e._v("#")]),e._v(" Quickstart")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("class CatalogController extends Controller\n    {\n        public function index(Request $request, Magento2Graphql $gql)\n        {\n            // return all products with category ID = 6\n            return response()->json(return $gql->products(['category' => 6]));\n        }\n    }\n")])])]),n("h2",{attrs:{id:"how-it-works"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works"}},[e._v("#")]),e._v(" How it works")]),e._v(" "),n("p",[n("code",[e._v("$gql->products()")]),e._v(" automatically instantiates the "),n("code",[e._v("Deved\\Magento2Graphql\\Queries\\Products")]),e._v(" Class and\nsends the query to the Magento 2 API, returning an "),n("code",[e._v("Arrayable")]),e._v(" and "),n("code",[e._v("Jsonable")]),e._v(" Object. You can pass this object to your\nresponse like an Eloquent model.")]),e._v(" "),n("h2",{attrs:{id:"build-your-queries-or-mutations"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#build-your-queries-or-mutations"}},[e._v("#")]),e._v(" Build your queries or mutations")]),e._v(" "),n("p",[e._v("The library is in early development stage and there are only few queries available, but you can easily extend it using your\nqueries. To do it create a new Class in "),n("code",[e._v("App\\Magento2Graphql\\Queries")]),e._v(" extending "),n("code",[e._v("Deved\\Magento2Graphql\\Queries\\AbstractQuery")]),e._v(".")]),e._v(" "),n("h4",{attrs:{id:"example"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),n("p",[e._v("To better understand this example read this "),n("a",{attrs:{href:"https://devdocs.magento.com/guides/v2.4/graphql/queries/cms-page.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("official documentation page"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("Create the "),n("code",[e._v("app/Magento2Graphql/Queries/CmsPage.php")]),e._v(" file:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v('<?php\n\nnamespace App\\Magento2Graphql\\Queries;\n\n\nuse Deved\\Magento2Graphql\\Queries\\AbstractQuery;\n\nclass CmsPage extends AbstractQuery\n{\npublic $identifier;\n\n    public function setQuery(): void\n    {\n        $identifier = $this->identifier;\n        $query = <<<GQL\n        {\n          cmsPage(identifier: "$identifier") {\n            identifier\n            url_key\n            title\n            content\n            content_heading\n            page_layout\n            meta_title\n            meta_description\n            meta_keywords\n          }\n        }\n        GQL;\n        $this->query = $query;\n    }\n}\n')])])]),n("p",[e._v("then you can call your 'CMS Page' query in your controller with "),n("code",[e._v("$gql->cmsPage(...)")]),e._v(":")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Deved\\Magento2Graphql\\Magento2Graphql;\nuse Deved\\Magento2Graphql\\Models\\Cart;\nuse Illuminate\\Http\\Request;\n\nclass TestController extends Controller\n{\n    public function index(Magento2Graphql $gql, Request $request)\n    {\n        $page = $gql->cmsPage(['identifier' => 'no-route']);\n        return response()->json($page);\n    }\n}\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("Public properties of your Class should be automatically used as query variables."),n("br"),e._v("\nIn the above example, "),n("code",[e._v("public $identifier")]),e._v(" is filled by "),n("code",[e._v("['identifier' => 'no-route']")])])]),e._v(" "),n("p",[e._v("more information on "),n("a",{attrs:{href:"https://devdocs.magento.com/guides/v2.4/graphql/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Magento 2 GraphQL Developer Guide"),n("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);